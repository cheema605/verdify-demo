(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[654],{14294:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(12115);let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:l="",children:d,iconNode:p,...u}=e;return(0,r.createElement)("svg",{ref:t,...o,width:n,height:n,stroke:s,strokeWidth:c?24*Number(i)/Number(n):i,className:a("lucide",l),...u},[...p.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),i=(e,t)=>{let s=(0,r.forwardRef)((s,o)=>{let{className:i,...c}=s;return(0,r.createElement)(n,{ref:o,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...c})});return s.displayName="".concat(e),s}},18527:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},20063:(e,t,s)=>{"use strict";var r=s(47260);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},31233:(e,t,s)=>{"use strict";function r(e){let t=[];e.forEach(e=>{"Completed"===e.status&&t.push({id:"notif-".concat(e.id,"-completed"),title:"Analysis Complete",message:"".concat(e.name," has finished processing successfully."),date:e.deadline,type:"success",priority:"Low",projectId:e.id,projectName:e.name}),"Active"===e.status&&e.progress>=75&&t.push({id:"notif-".concat(e.id,"-near-completion"),title:"Analysis Nearing Completion",message:"".concat(e.name," is ").concat(e.progress,"% complete."),date:new Date().toISOString().split("T")[0],type:"info",priority:"Low",projectId:e.id,projectName:e.name}),"Active"===e.status&&e.progress<50&&t.push({id:"notif-".concat(e.id,"-cloud-cover"),title:"Cloud Cover Threshold",message:"".concat(e.name," analysis may be affected by cloud cover. Processing paused for clearer data."),date:new Date().toISOString().split("T")[0],type:"warning",priority:"High",projectId:e.id,projectName:e.name}),"Pending"===e.status&&t.push({id:"notif-".concat(e.id,"-pending"),title:"Analysis Pending",message:"".concat(e.name," is scheduled to start processing."),date:e.startDate,type:"info",priority:"Medium",projectId:e.id,projectName:e.name}),"Canceled"===e.status&&t.push({id:"notif-".concat(e.id,"-canceled"),title:"Analysis Canceled",message:"".concat(e.name," was canceled at ").concat(e.progress,"% completion."),date:new Date().toISOString().split("T")[0],type:"error",priority:"Medium",projectId:e.id,projectName:e.name})}),t.push({id:"sys-maintenance",title:"System Maintenance",message:"Scheduled maintenance for the compute cluster this weekend.",date:new Date().toISOString().split("T")[0],type:"info",priority:"Low"});let s={High:0,Medium:1,Low:2};return t.sort((e,t)=>{let r=s[e.priority]-s[t.priority];return 0!==r?r:new Date(t.date).getTime()-new Date(e.date).getTime()})}s.d(t,{O:()=>r})},60406:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},60507:(e,t,s)=>{"use strict";s.d(t,{$:()=>i,h:()=>c});var r=s(95155),a=s(12115);let o=(0,a.createContext)(void 0),n=[{id:"ws-1",name:"Default Workspace",description:"Your default workspace",createdAt:new Date().toISOString()}];function i(e){let{children:t}=e,[s,i]=(0,a.useState)(n),[c,l]=(0,a.useState)(n[0]);return(0,a.useEffect)(()=>{let e=localStorage.getItem("verdify_workspaces"),t=localStorage.getItem("verdify_current_workspace");if(e)try{let t=JSON.parse(e);i(t.length>0?t:n)}catch(e){console.error("Failed to parse workspaces",e)}if(t)try{let e=JSON.parse(t);l(e)}catch(e){console.error("Failed to parse current workspace",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("verdify_workspaces",JSON.stringify(s))},[s]),(0,a.useEffect)(()=>{c&&localStorage.setItem("verdify_current_workspace",JSON.stringify(c))},[c]),(0,r.jsx)(o.Provider,{value:{workspaces:s,currentWorkspace:c,setCurrentWorkspace:l,createWorkspace:e=>{let t={...e,id:"ws-".concat(Date.now()),createdAt:new Date().toISOString()};i(e=>[...e,t]),l(t)}},children:t})}function c(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useWorkspace must be used within a WorkspaceProvider");return e}},66065:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(14294).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},75768:(e,t,s)=>{"use strict";s.d(t,{$n:()=>o,Ex:()=>i,Zp:()=>a,ke:()=>c,pd:()=>n});var r=s(95155);s(12115);let a=e=>{let{children:t,className:s="",onClick:a}=e;return(0,r.jsx)("div",{className:"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden ".concat(s),onClick:a,children:t})},o=e=>{let{children:t,variant:s="primary",size:a="md",onClick:o,className:n="",disabled:i=!1}=e;return(0,r.jsx)("button",{disabled:i,onClick:o,className:"".concat("inline-flex items-center justify-center font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-slate-400 focus:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none rounded-lg"," ").concat({primary:"bg-slate-900 text-white hover:bg-slate-800",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-200",outline:"bg-transparent border border-slate-200 text-slate-900 hover:bg-slate-50",ghost:"bg-transparent text-slate-600 hover:bg-slate-100",danger:"bg-red-500 text-white hover:bg-red-600"}[s]," ").concat({sm:"px-3 py-1.5 text-xs",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[a]," ").concat(n),children:t})},n=e=>{let{label:t,type:s="text",placeholder:a,value:o,onChange:n,disabled:i=!1,className:c=""}=e;return(0,r.jsxs)("div",{className:"space-y-1.5 ".concat(c),children:[t&&(0,r.jsx)("label",{className:"text-sm font-medium text-slate-700",children:t}),(0,r.jsx)("input",{type:s,placeholder:a,value:o,onChange:n,disabled:i,className:"flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"})]})},i=e=>{let{children:t,variant:s="neutral"}=e;return(0,r.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-bold uppercase tracking-wider ".concat({neutral:"bg-slate-100 text-slate-800",success:"bg-emerald-100 text-emerald-800",warning:"bg-amber-100 text-amber-800",danger:"bg-rose-100 text-rose-800",info:"bg-blue-100 text-blue-800"}[s]),children:t})},c=e=>{let{value:t,className:s=""}=e;return(0,r.jsx)("div",{className:"w-full bg-slate-100 rounded-full h-2 overflow-hidden ".concat(s),children:(0,r.jsx)("div",{className:"bg-indigo-600 h-full transition-all duration-500 ease-out",style:{width:"".concat(t,"%")}})})}},82850:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(95155);s(12115);var a=s(20063),o=s(90832),n=s(60507),i=s(75768),c=s(18527),l=s(60406);let d=(0,s(14294).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var p=s(66065),u=s(31233);function m(){let e=(0,a.useRouter)(),{currentWorkspace:t}=(0,n.h)(),{getProjectsByWorkspace:s,projects:m}=(0,o.B)(),g=t?s(t.id):[],h=(0,u.O)(g);return(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-slate-900",children:"Notifications"}),(0,r.jsx)(i.$n,{variant:"outline",size:"sm",children:"Mark all as read"})]}),(0,r.jsx)("div",{className:"grid gap-4",children:0===h.length?(0,r.jsx)("p",{className:"text-slate-500",children:"No notifications found."}):h.map(t=>(0,r.jsxs)(i.Zp,{className:"p-4 flex gap-4 items-start ".concat(t.projectId?"cursor-pointer hover:shadow-lg hover:border-indigo-200 transition-all":""),onClick:()=>(t=>{if(t.projectId){let s=m.find(e=>e.id===t.projectId);if(s){let t=s.geojson?encodeURIComponent(JSON.stringify(s.geojson)):"",r=s.selectedIndices?encodeURIComponent(JSON.stringify(s.selectedIndices)):"";s.geojson?e.push("/dashboard/results?id=".concat(s.id,"&name=").concat(encodeURIComponent(s.name),"&geojson=").concat(t,"&indices=").concat(r,"&status=").concat(s.status)):e.push("/dashboard/results?id=".concat(s.id,"&name=").concat(encodeURIComponent(s.name),"&status=").concat(s.status))}}})(t),children:[(0,r.jsx)("div",{className:"p-2 rounded-lg shrink-0 ".concat("success"===t.type?"bg-emerald-50 text-emerald-600":"warning"===t.type?"bg-amber-50 text-amber-600":"error"===t.type?"bg-rose-50 text-rose-600":"bg-blue-50 text-blue-600"),children:"success"===t.type?(0,r.jsx)(c.A,{className:"w-5 h-5"}):"warning"===t.type?(0,r.jsx)(l.A,{className:"w-5 h-5"}):"error"===t.type?(0,r.jsx)(d,{className:"w-5 h-5"}):(0,r.jsx)(p.A,{className:"w-5 h-5"})}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsx)("h3",{className:"font-bold text-slate-900",children:t.title}),(0,r.jsx)("span",{className:"text-xs text-slate-500",children:t.date})]}),(0,r.jsx)("p",{className:"text-sm text-slate-600 mt-1",children:t.message}),t.projectName&&(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)(i.Ex,{variant:"neutral",children:t.projectName})})]})]},t.id))})]})}function g(){return(0,r.jsx)("div",{className:"p-8 h-full overflow-y-auto custom-scrollbar",children:(0,r.jsx)(m,{})})}},90832:(e,t,s)=>{"use strict";s.d(t,{B:()=>c,N:()=>i});var r=s(95155),a=s(12115);let o=(0,a.createContext)(void 0),n=[{id:"1",workspaceId:"ws-1",name:"Amazon Rainforest Monitoring",client:"GreenEarth NGO",startDate:"2024-03-20",deadline:"2024-05-04",status:"Active",progress:30,type:"NDVI",selectedIndices:["NDVI","NDWI"],geojson:{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-60.5,-3.2],[-60.5,-3.8],[-59.8,-3.8],[-59.8,-3.2],[-60.5,-3.2]]]},properties:{}}},{id:"2",workspaceId:"ws-1",name:"Iowa Corn Analysis",client:"AgriCorp Global",startDate:"2024-03-15",deadline:"2024-04-10",status:"Canceled",progress:60,type:"EVI",selectedIndices:["NVI"],geojson:{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-95.5,41.7],[-95.5,41.3],[-94.9,41.3],[-94.9,41.7],[-95.5,41.7]]]},properties:{}}},{id:"3",workspaceId:"ws-1",name:"Sahara Desert Boundary Study",client:"United Nations Env",startDate:"2024-03-01",deadline:"2024-04-01",status:"Completed",progress:100,type:"Custom",selectedIndices:["NDVI","NDWI","NVI"],geojson:{type:"Feature",geometry:{type:"Polygon",coordinates:[[[2.5,25.2],[2.5,24.6],[3.2,24.6],[3.2,25.2],[2.5,25.2]]]},properties:{}}},{id:"4",workspaceId:"ws-2",name:"California Vineyard Hydration",client:"Napa Valley Vintners",startDate:"2024-03-20",deadline:"2024-05-20",status:"Pending",progress:50,type:"SAVI",selectedIndices:["NDWI"],geojson:{type:"Feature",geometry:{type:"Polygon",coordinates:[[[-122.5,38.5],[-122.5,38.2],[-122.2,38.2],[-122.2,38.5],[-122.5,38.5]]]},properties:{}}},{id:"5",workspaceId:"ws-2",name:"Urban Expansion Tokyo",client:"City Planning Dept",startDate:"2024-04-01",deadline:"2024-06-01",status:"Active",progress:45,type:"NDVI",selectedIndices:["NDVI"],geojson:{type:"Feature",geometry:{type:"Polygon",coordinates:[[[139.7,35.7],[139.7,35.6],[139.8,35.6],[139.8,35.7],[139.7,35.7]]]},properties:{}}}];function i(e){let{children:t}=e,[s,i]=(0,a.useState)(n);return(0,a.useEffect)(()=>{let e=localStorage.getItem("verdify_projects");if(e)try{let t=JSON.parse(e);t.length>0&&i(t)}catch(e){console.error("Failed to parse projects",e)}},[]),(0,a.useEffect)(()=>{localStorage.setItem("verdify_projects",JSON.stringify(s))},[s]),(0,r.jsx)(o.Provider,{value:{projects:s,addProject:e=>{i(t=>[e,...t])},updateProject:e=>{i(t=>t.map(t=>t.id===e.id?e:t))},getProjectsByWorkspace:e=>s.filter(t=>t.workspaceId===e)},children:t})}function c(){let e=(0,a.useContext)(o);if(void 0===e)throw Error("useProject must be used within a ProjectProvider");return e}},94743:(e,t,s)=>{Promise.resolve().then(s.bind(s,82850))}},e=>{e.O(0,[441,255,358],()=>e(e.s=94743)),_N_E=e.O()}]);